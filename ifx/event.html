<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IFX TRADES | Live Event</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CORE STACK -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;800&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            void: '#020202',
            metal: '#0a0a0a',
            gold: '#D4AF37',
            accentBlue: '#00F0FF',
            accentGreen: '#00FF94'
          },
          fontFamily: {
            display: ['Syncopate', 'sans-serif'],
            body: ['Manrope', 'sans-serif']
          }
        }
      }
    }
  </script>

  <style>
    body { background:#020202; color:white; }
    .glass {
      background: rgba(10,10,10,.7);
      backdrop-filter: blur(18px);
      border:1px solid rgba(255,255,255,.08);
    }
  </style>
</head>

<body class="font-body">

<!-- NAV -->
<nav class="fixed w-full top-0 z-50 bg-black/80 backdrop-blur border-b border-gold/20">
  <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
    <a href="indexgg.html" class="font-display text-xl tracking-widest">
      IFX<span class="text-gold">TRADES</span>
    </a>
    <a href="indexgg.html#events" class="text-xs text-gold tracking-widest uppercase">
      ← Back to Events
    </a>
  </div>
</nav>

<!-- HERO -->
<section class="pt-32 pb-20 bg-void">
  <div class="max-w-4xl mx-auto px-6 text-center">

    <div id="eventStatus"
         class="inline-block mb-6 px-4 py-1 text-xs font-bold tracking-widest rounded-full bg-red-600 animate-pulse">
      LIVE EVENT
    </div>

    <h1 id="eventTitle"
        class="font-display text-4xl md:text-6xl mb-6">
      Loading Event…
    </h1>

    <p id="eventDescription"
       class="text-gray-400 max-w-2xl mx-auto mb-10">
      —
    </p>

    <div class="flex justify-center gap-10 text-sm text-gray-300 mb-12">
      <div>
        <div class="text-gold text-xs uppercase tracking-widest">Date</div>
        <div id="eventDate">—</div>
      </div>
      <div>
        <div class="text-gold text-xs uppercase tracking-widest">Time</div>
        <div id="eventTime">—</div>
      </div>
      <div>
        <div class="text-gold text-xs uppercase tracking-widest">Partner</div>
        <div id="eventPartner">—</div>
      </div>
    </div>

    <a id="registerBtn"
       href="#"
       class="inline-block bg-white text-black px-10 py-4 font-bold tracking-widest uppercase hover:bg-gold transition">
      Register Free
    </a>

  </div>
</section>

<!-- DETAILS -->
<section class="py-24 bg-metal">
  <div class="max-w-5xl mx-auto px-6 grid md:grid-cols-3 gap-10">

    <div class="glass p-8">
      <h3 class="font-display text-lg mb-4">What You’ll Learn</h3>
      <ul class="text-gray-400 text-sm space-y-2">
        <li>• Institutional liquidity narrative</li>
        <li>• Smart Money execution zones</li>
        <li>• Weekly directional bias</li>
        <li>• Risk management framework</li>
      </ul>
    </div>

    <div class="glass p-8">
      <h3 class="font-display text-lg mb-4">Who This Is For</h3>
      <ul class="text-gray-400 text-sm space-y-2">
        <li>• Serious forex traders</li>
        <li>• XAUUSD specialists</li>
        <li>• Funded account holders</li>
        <li>• Discipline-focused traders</li>
      </ul>
    </div>

    <div class="glass p-8">
      <h3 class="font-display text-lg mb-4">Session Info</h3>
      <p class="text-gray-400 text-sm">
        Live institutional breakdown with real-time market logic.
        No hype. No indicators spam. Pure execution thinking.
      </p>
    </div>

  </div>
</section>

<!-- FOOTER -->
<footer class="py-16 text-center text-xs text-gray-600 tracking-widest bg-void border-t border-white/10">
  © 2025 IFX TRADES — Institutional Market Intelligence
</footer>

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabase = supabase.createClient(
    "https://zpiavufzxazfzodwxxxh.supabase.co",
    "sb_publishable_82vRDaoTzk9vqwF2GRawaw_YLUSWD69"
  );

  const params = new URLSearchParams(window.location.search);
  const slug = params.get("slug");

  if (!slug) {
    document.getElementById("eventTitle").innerText = "Event Not Found";
    throw new Error("Missing slug");
  }

  (async () => {
    const { data, error } = await supabase
      .from("events")
      .select("*")
      .eq("slug", slug)
      .single();

    if (error || !data) {
      document.getElementById("eventTitle").innerText = "Event Not Found";
      return;
    }

    document.title = `${data.title} | IFX Trades`;
    document.getElementById("eventTitle").innerText = data.title;
    document.getElementById("eventDescription").innerText = data.description || "";
    document.getElementById("eventPartner").innerText = data.partner || "IFX Trades";

    const date = new Date(data.event_time);
    document.getElementById("eventDate").innerText =
      date.toLocaleDateString(undefined, { weekday:'long', day:'numeric', month:'long' });

    document.getElementById("eventTime").innerText =
      date.toLocaleTimeString(undefined, { hour:'2-digit', minute:'2-digit' });

    document.getElementById("registerBtn").href =
      data.register_link || "https://wa.me/YOUR_PHONE";

    // LIVE / UPCOMING / ENDED
    const now = Date.now();
    const start = date.getTime();
    const end = start + 90*60000;

    const badge = document.getElementById("eventStatus");
    if (now < start) {
      badge.innerText = "UPCOMING EVENT";
      badge.className = "inline-block mb-6 px-4 py-1 text-xs font-bold tracking-widest rounded-full bg-gold text-black";
    } else if (now > end) {
      badge.innerText = "EVENT ENDED";
      badge.className = "inline-block mb-6 px-4 py-1 text-xs font-bold tracking-widest rounded-full bg-gray-600";
    }

  })();
</script>

<script>
  lucide.createIcons();
</script>

</body>
</html>
